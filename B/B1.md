# 遗传算法 (Genetic Algorithm)

## 模型简介

遗传算法是一种模拟生物进化过程的全局优化算法，通过选择、交叉、变异等遗传操作来搜索最优解。适用于复杂的非线性、多峰、离散优化问题。

## 适用场景

### 数学建模竞赛中的典型应用

1. **函数优化** - 复杂非线性函数的全局最优解
2. **组合优化** - 旅行商问题(TSP)、背包问题
3. **参数估计** - 模型参数拟合和系统辨识
4. **调度问题** - 生产调度、任务分配
5. **路径规划** - 机器人路径、物流配送路线
6. **神经网络优化** - 网络结构和权重优化
7. **工程设计** - 结构优化、电路设计
8. **资源配置** - 投资组合、资源分配

### 典型问题特征

- 目标函数复杂、非线性、多峰
- 搜索空间大、存在多个局部最优
- 约束条件复杂或难以处理
- 传统梯度方法失效的问题

## 算法原理

### 核心步骤

1. **初始化**: 随机生成初始种群
2. **适应度评价**: 计算每个个体的适应度值
3. **选择**: 根据适应度选择父代个体
4. **交叉**: 交换遗传信息产生子代
5. **变异**: 随机改变某些基因增加多样性
6. **更新**: 用新种群替换旧种群

### 编码方式
- **二进制编码**: 将变量转换为0-1串
- **实数编码**: 直接使用实数值
- **排列编码**: 用于组合优化问题

## 使用方法

### 1. 基本调用

```python
from M_B1_GeneticAlgorithm import genetic_algorithm
import numpy as np

# 定义目标函数 (求最大值)
def objective(x):
    return -(x[0]**2 + x[1]**2)  # 求最小值时加负号

# 设置参数
bounds = [[-5, 5], [-5, 5]]    # 变量范围
n_bits = 16                    # 编码位数
n_iter = 100                   # 迭代次数
n_pop = 50                     # 种群大小
r_cross = 0.9                  # 交叉概率
r_mut = 0.01                   # 变异概率

# 运行遗传算法
best_sol, best_val = genetic_algorithm(
    objective, bounds, n_bits, n_iter, n_pop, r_cross, r_mut
)
```

### 2. 参数说明

- **objective_func**: 目标函数 f(x)，注意这里是求最大值
- **bounds**: 变量取值范围 [[min1,max1], [min2,max2], ...]
- **n_bits**: 每个变量的二进制编码位数
- **n_iter**: 迭代次数（代数）
- **n_pop**: 种群大小
- **r_cross**: 交叉概率 (0.7-0.9)
- **r_mut**: 变异概率 (0.01-0.05)

### 3. 参数调优建议

**种群大小**: 
- 小问题: 20-50
- 复杂问题: 100-200

**交叉概率**: 
- 一般设置为0.8-0.95

**变异概率**: 
- 公式: 1/(n_bits × n_vars)
- 手动调整: 0.01-0.05

**迭代次数**: 
- 观察收敛曲线确定
- 一般100-500代

## 注意事项

1. **目标函数**: 算法求最大值，求最小值时需对函数取负
2. **编码精度**: n_bits决定搜索精度，过小精度不够，过大计算量大
3. **参数平衡**: 交叉概率高有利于收敛，变异概率高有利于跳出局部最优
4. **收敛判断**: 可设置早停条件避免过度计算

## 代码文件

- **文件名**: `M_B1_GeneticAlgorithm.py`
- **主函数**: `genetic_algorithm(objective_func, bounds, n_bits, n_iter, n_pop, r_cross, r_mut)`
- **示例**: 单峰函数优化与可视化

## 扩展应用

### 高级技巧

1. **自适应参数**: 根据进化代数动态调整交叉变异概率
2. **精英保留**: 确保最优个体不被破坏
3. **多种群策略**: 并行搜索增加多样性
4. **约束处理**: penalty方法、repair机制

### 算法变种

- **实数编码GA**: 直接操作实数，避免编解码
- **多目标GA**: NSGA-II处理多目标优化
- **混合GA**: 结合局部搜索方法